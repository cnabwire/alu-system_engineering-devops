#!/usr/bin/env bash
# This script installs and configures Nginx on an Ubuntu server

# Update package lists and install Nginx
apt-get -y update
apt-get -y install nginx

# Ensure Nginx listens on port 80 without 'default_server' (more robust sed)
sed -i 's/listen\s\+80\s\+default_server;/listen 80;/' /etc/nginx/sites-available/def

# Overwrite the main index page with the required text
echo "Holberton School for the win!" > /var/www/html/index.html

# Reload nginx so it picks up changes
nginx -s reload
